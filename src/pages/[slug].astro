---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';

const headers = { 'Content-Type': 'application/json'};
const slug = Astro.params.slug;
const postData = await fetch( "https://bornancient.shop/graphql", {
	method: 'post',
	headers,
	body: JSON.stringify({
		query: `{
					post(id: "${slug}", idType: SLUG) {				
                        content
                        title
                        date
                        databaseId
                        id
                        uri
                        slug
					}
			}`
		})
	}).then(data => data.json())

const post = postData?.data?.post;
const title = "Born Ancient - "+ post.title;
---

<Layout title={title}>
	<div class="">
		<div class="uk-card uk-card-default uk-card-body">

			<h1 class="uk-card-title">{post.title}</h1>
		
			<p class="uk-article-meta">{new Date(post.date).toLocaleString()}</p>
		
			<p class="uk-text-lead" set:html={post.content}></p>
		
		</div>
	</div>
</Layout>

<style>
		
</style>
